{"ast":null,"code":"import _classCallCheck from \"/home/anbuthidiff/admin-forntend/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/anbuthidiff/admin-forntend/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/anbuthidiff/admin-forntend/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/anbuthidiff/admin-forntend/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/anbuthidiff/admin-forntend/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/anbuthidiff/admin-forntend/src/views/users/AddUserForm.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\nimport UserFormFields from \"./UserFormFields\";\nimport Form from \"../../components/Form\";\nimport CancelButton from \"../../components/CancelButton\";\nimport SaveButton from \"../../components/SaveButton\"; // Configs\n\nimport { endpoints } from \"../../configs\"; // API call\n\nimport { apiClient } from \"../../apiClient\"; // Helper\n\nimport { toString } from \"../../lib/helper\";\n\nvar AddUserForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(AddUserForm, _React$Component);\n\n  var _super = _createSuper(AddUserForm);\n\n  function AddUserForm(props) {\n    var _this;\n\n    _classCallCheck(this, AddUserForm);\n\n    _this = _super.call(this, props);\n\n    _this._submit = function (values) {\n      if (_this._validateFields(values) === false) {\n        return;\n      } // Save user form in the final\n\n\n      _this._createUser(_this._toArray(values));\n    };\n\n    return _this;\n  }\n\n  _createClass(AddUserForm, [{\n    key: \"_validateFields\",\n    // Validate Fields\n    value: function _validateFields(values) {\n      var success = true;\n      var email = values.email;\n\n      if (!email) {\n        success = false;\n      }\n\n      return success;\n    } // To Array\n\n  }, {\n    key: \"_toArray\",\n    value: function _toArray(values) {\n      values.firstName = toString(values.firstName);\n      values.lastName = toString(values.lastName);\n      values.email = toString(values.email);\n      values.roleId = values.roleId ? values.roleId.value : values.roleId;\n      return values;\n    } // Project API Call\n\n  }, {\n    key: \"_createUser\",\n    value: function _createUser(data) {\n      return apiClient.post(endpoints().userAPI, data).then(function (response) {\n        var successMessage;\n\n        if (response && response.data) {\n          successMessage = response.data.message;\n        }\n\n        window.location.replace(\"/users\");\n      }).catch(function (error) {\n        if (error.response && error.response.status >= 400) {\n          var errorMessage;\n          var errorRequest = error.response.request;\n\n          if (errorRequest && errorRequest.response) {\n            errorMessage = JSON.parse(errorRequest.response).message;\n          }\n\n          toast.error(error.response.data.message);\n          console.error(errorMessage);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var initialValues = {\n        firstName: \"\",\n        lastName: \"\",\n        email: \"\",\n        roleId: \"\"\n      };\n      return /*#__PURE__*/React.createElement(Form, {\n        initialValues: initialValues,\n        onSubmit: function onSubmit(values) {\n          _this2._submit(values);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(UserFormFields, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CancelButton, {\n        onClick: function onClick() {\n          return _this2.props.history.goBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(SaveButton, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return AddUserForm;\n}(React.Component);\n\nexport { AddUserForm as default };","map":{"version":3,"sources":["/home/anbuthidiff/admin-forntend/src/views/users/AddUserForm.js"],"names":["React","toast","UserFormFields","Form","CancelButton","SaveButton","endpoints","apiClient","toString","AddUserForm","props","_submit","values","_validateFields","_createUser","_toArray","success","email","firstName","lastName","roleId","value","data","post","userAPI","then","response","successMessage","message","window","location","replace","catch","error","status","errorMessage","errorRequest","request","JSON","parse","console","initialValues","history","goBack","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport UserFormFields from \"./UserFormFields\";\n\nimport Form from \"../../components/Form\";\nimport CancelButton from \"../../components/CancelButton\";\nimport SaveButton from \"../../components/SaveButton\";\n\n// Configs\nimport { endpoints } from \"../../configs\";\n\n// API call\nimport { apiClient } from \"../../apiClient\";\n\n// Helper\nimport { toString } from \"../../lib/helper\";\n\nexport default class AddUserForm extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  _submit = values => {\n    if (this._validateFields(values) === false) {\n      return;\n    }\n\n    // Save user form in the final\n    this._createUser(this._toArray(values));\n  };\n\n  // Validate Fields\n  _validateFields(values) {\n    let success = true;\n    const email = values.email;\n\n    if (!email) {\n      success = false;\n    }\n\n    return success;\n  }\n\n  // To Array\n  _toArray(values) {\n    values.firstName = toString(values.firstName);\n    values.lastName = toString(values.lastName);\n    values.email = toString(values.email);\n    values.roleId = values.roleId ? values.roleId.value : values.roleId;\n    return values;\n  }\n\n  // Project API Call\n  _createUser(data) {\n    return apiClient\n      .post(endpoints().userAPI, data)\n      .then(response => {\n        let successMessage;\n        if (response && response.data) {\n          successMessage = response.data.message;\n        }\n\n        window.location.replace(\"/users\");\n      })\n      .catch(error => {\n        if (error.response && error.response.status >= 400) {\n          let errorMessage;\n          const errorRequest = error.response.request;\n          if (errorRequest && errorRequest.response) {\n            errorMessage = JSON.parse(errorRequest.response).message;\n          }\n          toast.error(error.response.data.message);\n          console.error(errorMessage);\n        }\n      });\n  }\n\n  render() {\n    const initialValues = {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      roleId: \"\"\n    };\n\n    return (\n      <Form\n        initialValues={initialValues}\n        onSubmit={values => {\n          this._submit(values);\n        }}\n      >\n        <UserFormFields />\n        <div className=\"d-flex justify-content-end\">\n          <CancelButton onClick={() => this.props.history.goBack()} />\n          <SaveButton />\n        </div>\n      </Form>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}